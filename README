-------------------------------------------------------------------------------

                                   GREMLINs
              Emulating Exascale Conditions on Today's Platforms

-------------------------------------------------------------------------------

1. INTRODUCTION

The GREMLINs emulate the behavior of anticipated future architectures on 
current machines. We focus on the impact of resource limitations (by 
artificially restricting them), as well as noise and faults by using injection 
techniques--these issues are generally expected to be the dominating challenges 
in future machine generations.

We have four different classes of GREMLINS: 

(1) Power: artificially reduce the operating power using DVFS or cap power on a 
per node basis; 
(2) Memory: limit resources in the memory hierarchy such as cache size or 
memory bandwidth by running interference threads; 
(3) Reselience: inject faults into target applications and enable us to study 
the efficiency and correctness of recovery techniques;
(4) Noise: inject periodic or random noise events to emulate system and OS 
interference


2. CODE STRUCTURE

\gremlin-release
 \BUILD
 \cmakefiles
 \latency  
 \memory
 \noise
 \power
 \resilience
 \thermal
 |-CMakeList.txt
 |-LICENSE
 |-README

The cmakefiles folder contains cmake specifications. The BUILD folder is used for out of source builds.

All other folders should be named according to the resource they focus on.
In each of these the CMakeList.txt describes how the gremlins in the folder are built.
There should be at least one gremlin that measures the resource and one that controlls or influences it.



3. INSTALL

Build using cmake

E.g.:
mkdir BUILD
cd BUILD
cmake .. -DLIBMSR_HOME=/*YOUR_PATH_TO_LIBMSR_HOME*/libmsr -DCMAKE_INSTALL_PREFIX=../INSTALL -DCMAKE_BUILD_TYPE=RelWithDebugInfo -DRANDOM_ACCESS_HOME=/*YOUR_PATH_TO_RANDOM_ACCESS*/
make 
make install 

This will create a BUILD directory and configure all out of source configure files.
Calling make in the BUILD directory creates the files as specified by cmake.
make install copies the binaries to the INSTALL folder.

LIBMSR can be obtained from Barry Roundtree 
RANDOM_ACCESS from Marc Casas Guix

For changes see the cmake manual or use ccmake in the BUILD directory


The structure of the INSTALL folder is
\INSTALL
 \lib

,where lib contains all dynamic linked libraries.



These libraries can be used using LD_PRELOAD:

export LD_PRELOAD=$INSTALL/lib/libPowerMeter.so  
srun -n 16 ./helloMPI
export LD_PRELOAD=""

